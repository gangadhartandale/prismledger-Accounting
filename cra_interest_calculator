from datetime import datetime

def cra_interest_calculator(principal, annual_interest_rate, start_date, end_date):
    """
    Calculate CRA daily compounded interest on tax balances.

    Parameters:
    principal (float): Amount owed ($)
    annual_interest_rate (float): Annual interest rate in percentage (e.g., 9.0 for 9%)
    start_date (str): Start date in 'YYYY-MM-DD' format
    end_date (str): End date in 'YYYY-MM-DD' format

    Returns:
    float: Total interest charged
    float: Final amount owing
    """

    # Convert strings to date objects
    start = datetime.strptime(start_date, "%Y-%m-%d")
    end = datetime.strptime(end_date, "%Y-%m-%d")

    # Number of days between dates
    days = (end - start).days
    if days <= 0:
        return 0, principal  # No interest if same day or invalid range

    # Convert rate to daily rate
    daily_rate = (annual_interest_rate / 100) / 365
        
    # CRA interest daily compounding formula:
    final_amount = principal * ((1 + daily_rate) ** days)
    interest = final_amount - principal
    
    return round(interest, 2), round(final_amount, 2)


# Example usage:
principal_amount = 1000       # $1,000 tax owing
annual_rate = 9.0             # 9% CRA interest rate
start = "2024-01-01"
end = "2024-06-30"

interest, total = cra_interest_calculator(principal_amount, annual_rate, start, end)

print("Interest Charged: $", interest)
print("Total Amount Owing: $", total)
